# System Design

## User based Scalability 

<img src="imgs/img_13.png" width="450" height="450"/>

시스템 규모 확장을 위한 기법들 
- 웹 계층은 무상태 계층으로 
- 모든 계층에 다중화 도입 
- 가능한 한 많은 데이터를 캐시 
- 여러 데이터 센터를 지원할 것 
- 정적 콘텐츠는 CDN을 통해 서비스할 것 
- 데이터 계층은 샤딩을 통해 그 규모를 확장할 것 
- 각 계층은 독립적 서비스로 분할할 것 
- 시스템을 지속적으로 모니터링하고, 자동화 도구들을 활용할 것 

# Rough Size Estimation 

- 근사치를 활용한 계산 (rounding and approximation) : 면접장에서 복잡한 계산을 하는 것은 어려운 일, 적절한 근사치를 활용하여 시간을 절약  
  - ex. 99987/9.1은 100,000/10으로 간소화 
- 가정(assumption)들은 나중에 살펴볼 수 있도록 적어두자 
- 단위(unit) 붙이기
- 많이 출제되는 개략적 규모 추정 문제 : QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버 수 등을 추정 

# System Design Four Step Approach

1. 문제 이해 및 설계 범위 확정 
2. 개략적 설계안 제시 및 동의 구하기 
3. 상세 설계
4. 마무리 

### 해야 할 것 

- 질문을 통해 확인하기 (스스로 내린 가정이 옳다 믿고 진행하지 않기)
- 문제의 요구 사항 이해하기 
- 정답이나 최선의 답안 같은 것은 없다는 점을 명심 (요구 사항을 정확하게 이해했는지 다시 확인)
- 듣는 사람이 우리의 사고 흐름을 이해할 수 있도록 하기 
- 가능하면 여러 해법을 함께 제시 
- 개략적 설계에 면접관이 동의하면, 각 컴포넌트의 세부사항을 설명하기 시작하기 (가장 중요한 컴포넌트부터 진행하기)
- 면접관의 아이디어 이끌어 내기 
- 포기하지 말기 

### 하지 말아야 할 것 

- 전형적인 문제에 대비하지 않고 면접보는 것 
- 요구사항이나 가정들을 분명히 하지 않은 상태에서 설계 제시 
- 처음부터 특정 컴포넌트의 세부사항을 너무 깊게 설명하지 않기 (개략적 설계를 마친 뒤에 세부사항으로)
- 진행 중에 막혔다면, 힌트를 정하는 것을 주저하는 것 
- 소통을 주저하지 않기, 침묵 속에 설계를 진행하지 않기 
- 설계안을 내놓는 순간 끝난 것이 아님, 의견을 일찍, 자주 구하기 



> 가상 면접 사례로 배우는 대규모 시스템 설계 기초 1, 2를 참고하였습니다.
